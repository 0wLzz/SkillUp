{
    "sourceFile": "app/Http/Controllers/AuthController.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1745308514009,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1745309205896,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,17 +8,24 @@\n use App\\Models\\User;\r\n \r\n class AuthController extends Controller\r\n {\r\n-    public function registerStudent() {\r\n+    public function registerStudent()\r\n+    {\r\n         return view('auth.register-student');\r\n     }\r\n \r\n-    public function storeStudent(Request $request) {\r\n+    public function registerTutor()\r\n+    {\r\n+        return view('auth.register-tutor');\r\n+    }\r\n+\r\n+    public function storeStudent(Request $request)\r\n+    {\r\n         $request->validate([\r\n             'name' => 'required',\r\n             'email' => 'required|email|unique:users',\r\n-            'password' => 'required|min:6|confirmed',\r\n+            'password' => 'required|min:6'\r\n         ]);\r\n \r\n         User::create([\r\n             'name' => $request->name,\r\n@@ -26,47 +33,42 @@\n             'password' => Hash::make($request->password),\r\n             'role' => 'student'\r\n         ]);\r\n \r\n-        return redirect()->route('login_page')->with('success', 'Pendaftaran student berhasil!');\r\n+        return redirect('/')->with('success', 'Register as student success');\r\n     }\r\n \r\n-    public function registerTutor() {\r\n-        return view('auth.register-tutor');\r\n-    }\r\n-\r\n-    public function storeTutor(Request $request) {\r\n+    public function storeTutor(Request $request)\r\n+    {\r\n         $request->validate([\r\n             'name' => 'required',\r\n             'email' => 'required|email|unique:users',\r\n-            'phone' => 'required',\r\n-            'portfolio' => 'required|file'\r\n+            'password' => 'required|min:6'\r\n         ]);\r\n \r\n-        // kamu bisa simpan file portofolio nanti\r\n         User::create([\r\n             'name' => $request->name,\r\n             'email' => $request->email,\r\n-            'password' => Hash::make('default123'), // atau password generator\r\n+            'password' => Hash::make($request->password),\r\n             'role' => 'tutor'\r\n         ]);\r\n \r\n-        return redirect()->route('login_page')->with('success', 'Pendaftaran tutor berhasil!');\r\n+        return redirect('/')->with('success', 'Register as tutor success');\r\n     }\r\n \r\n-    public function loginPage() {\r\n-        return view('auth.login');\r\n-    }\r\n+    public function login(Request $request)\r\n+    {\r\n+        $credentials = $request->only('email', 'password');\r\n \r\n-    public function login(Request $request) {\r\n-        $credentials = $request->only('email', 'password');\r\n         if (Auth::attempt($credentials)) {\r\n-            return redirect()->route('home_page');\r\n+            return redirect('/index');\r\n         }\r\n-        return back()->withErrors(['email' => 'Email atau password salah']);\r\n+\r\n+        return redirect('/')->withErrors(['email' => 'Login gagal, cek email/password']);\r\n     }\r\n \r\n-    public function logout() {\r\n+    public function logout()\r\n+    {\r\n         Auth::logout();\r\n-        return redirect()->route('login_page');\r\n+        return redirect('/');\r\n     }\r\n }\r\n"
                }
            ],
            "date": 1745308514009,
            "name": "Commit-0",
            "content": "<?php\r\n\r\nnamespace App\\Http\\Controllers;\r\n\r\nuse Illuminate\\Http\\Request;\r\nuse Illuminate\\Support\\Facades\\Hash;\r\nuse Illuminate\\Support\\Facades\\Auth;\r\nuse App\\Models\\User;\r\n\r\nclass AuthController extends Controller\r\n{\r\n    public function registerStudent() {\r\n        return view('auth.register-student');\r\n    }\r\n\r\n    public function storeStudent(Request $request) {\r\n        $request->validate([\r\n            'name' => 'required',\r\n            'email' => 'required|email|unique:users',\r\n            'password' => 'required|min:6|confirmed',\r\n        ]);\r\n\r\n        User::create([\r\n            'name' => $request->name,\r\n            'email' => $request->email,\r\n            'password' => Hash::make($request->password),\r\n            'role' => 'student'\r\n        ]);\r\n\r\n        return redirect()->route('login_page')->with('success', 'Pendaftaran student berhasil!');\r\n    }\r\n\r\n    public function registerTutor() {\r\n        return view('auth.register-tutor');\r\n    }\r\n\r\n    public function storeTutor(Request $request) {\r\n        $request->validate([\r\n            'name' => 'required',\r\n            'email' => 'required|email|unique:users',\r\n            'phone' => 'required',\r\n            'portfolio' => 'required|file'\r\n        ]);\r\n\r\n        // kamu bisa simpan file portofolio nanti\r\n        User::create([\r\n            'name' => $request->name,\r\n            'email' => $request->email,\r\n            'password' => Hash::make('default123'), // atau password generator\r\n            'role' => 'tutor'\r\n        ]);\r\n\r\n        return redirect()->route('login_page')->with('success', 'Pendaftaran tutor berhasil!');\r\n    }\r\n\r\n    public function loginPage() {\r\n        return view('auth.login');\r\n    }\r\n\r\n    public function login(Request $request) {\r\n        $credentials = $request->only('email', 'password');\r\n        if (Auth::attempt($credentials)) {\r\n            return redirect()->route('home_page');\r\n        }\r\n        return back()->withErrors(['email' => 'Email atau password salah']);\r\n    }\r\n\r\n    public function logout() {\r\n        Auth::logout();\r\n        return redirect()->route('login_page');\r\n    }\r\n}\r\n"
        }
    ]
}